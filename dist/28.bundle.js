(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{678:function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("h3",{staticClass:"lb-title-h3"},[t._v("馆藏管理")]),t._v(" "),s("div",[s("ul",{staticClass:"mui-table-view"},t._l(t.booklist,(function(a){return s("li",{key:a.id,staticClass:"mui-table-view-cell"},[s("div",{staticClass:"lb-li-box"},[s("div",{staticClass:"lb-li-div-l"},[s("p",{staticClass:"lb-li-div-l-p"},[t._v("书名："+t._s(a.bookname))]),t._v(" "),s("p",{staticClass:"lb-li-div-l-p"},[t._v("ISBN："+t._s(a.isbn))]),t._v(" "),s("p",{staticClass:"lb-li-div-l-p"},[t._v("作者："+t._s(a.bookwriter))])]),t._v(" "),s("div",{staticClass:"lb-li-div-r"},[s("p",[s("button",{staticClass:"mui-btn mui-btn-primary mui-btn-outlined btn-lb",attrs:{type:"button"},on:{click:function(s){return t.updatebook(a.id,"+")}}},[t._v("新增馆藏")])]),t._v(" "),s("p",[s("button",{staticClass:"mui-btn mui-btn-royal mui-btn-outlined",attrs:{type:"button"},on:{click:function(s){return t.updatebook(a.id,"-")}}},[t._v("减少馆藏")])])])]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:"n"===a.how,expression:"item.how==='n'"}],staticClass:"mui-badge mui-badge-primary"},[s("span",[t._v("馆藏量")]),t._v(t._s(a.booknum))]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:"l"===a.how,expression:"item.how==='l'"}],staticClass:"mui-badge mui-badge-danger"},[s("span",[t._v("馆藏量")]),t._v(t._s(a.booknum))]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:"m"===a.how,expression:"item.how==='m'"}],staticClass:"mui-badge mui-badge-success"},[s("span",[t._v("馆藏量")]),t._v(t._s(a.booknum))])])})),0)])])};i._withStripped=!0;var o=s(129),e={name:"librarybookAd",data:()=>({booklist:[]}),methods:{getallbook(){this.$http.get("api/getallbooknopho").then(t=>{200===t.status&&(this.booklist=t.body.message,this.booklist.forEach(t=>{parseInt(t.booknum)<10?t.how="l":parseInt(t.booknum)>=10&&parseInt(t.booknum)<20?t.how="n":t.how="m"}))})},updatebook(t,a){Object(o.MessageBox)({$type:"prompt",title:"馆藏管理",message:"请输入修改馆藏数量",closeOnClickModal:!0,showCancelButton:!0,showInput:!0,inputPattern:/^[1-9]\d*$/,inputErrorMessage:"请输入数字！"}).then(({value:s,action:i})=>{let e={id:t,num:s,opt:a};console.log(e),this.$http.post("api/updatebooknum",e).then(t=>{200===t.status?Object(o.Toast)({message:"修改馆藏成功",duration:1e3}):Object(o.Toast)({message:"修改馆藏失败，请重试",duration:1e3})}),this.getallbook()}).catch(()=>{})}},created(){this.getallbook()}},n=(s(789),s(128)),l=Object(n.a)(e,i,[],!1,null,"4d8a340a",null);l.options.__file="src/components/root/librarybookAd.vue";a.default=l.exports},717:function(t,a,s){var i=s(55),o=s(790);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var e={insert:"head",singleton:!1},n=(i(o,e),o.locals?o.locals:{});t.exports=n},789:function(t,a,s){"use strict";var i=s(717);s.n(i).a},790:function(t,a,s){(a=s(56)(!1)).push([t.i,"\n.lb-title-h3[data-v-4d8a340a]{\n    text-align: center;\n    color: #555555;\n    margin: 10px 0;\n}\n.lb-li-box[data-v-4d8a340a]{\n    width: 90%;\n    display: flex;\n    justify-content: space-between;\n}\n.lb-li-div-l[data-v-4d8a340a]{\n    width:50%;\n}\n.lb-li-div-r[data-v-4d8a340a]{\n    width: 35%;\n    margin-right: 5px;\n}\n.btn-lb[data-v-4d8a340a]{\n    margin-bottom: 5px;\n}\n.lb-li-div-l-p[data-v-4d8a340a]{\n    color: #242424;\n}\n",""]),t.exports=a}}]);